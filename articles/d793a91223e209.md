---
title: "ç‹¬è‡ªãƒ‡ã‚¶ã‚¤ãƒ³Sliderã‚’é ‘å¼µã‚ŠãŸã„äººã¸"
emoji: "ğŸ¢"
type: "tech" 
topics: ["flutter", "dart"]
published: true
---

ç›´è¿‘ã€ãƒ‡ã‚¶ã‚¤ãƒ³ã‚·ã‚¹ãƒ†ãƒ ã«åŸºã¥ã„ãŸç‹¬è‡ªãƒ‡ã‚¶ã‚¤ãƒ³ã®Sliderã‚’å®Ÿè£…ã—ã¾ã—ãŸ
æ¨™æº–Widgetã¨ã¯åœ°å‘³ã«ç•°ãªã‚‹ãƒã‚¤ãƒ³ãƒˆãŒå¤šã€…ã‚ã‚‹ãƒ‡ã‚¶ã‚¤ãƒ³ã§å®Ÿè£…ãŒå¤§å¤‰ã§ã—ãŸãŒã€ã‚´ãƒªæŠ¼ã—ã§è‡ªä½œã™ã‚Œã°çµå±€ãªã‚“ã¨ã‹ãªã‚‹ã®ãŒFlutterã®ã„ã„ã¨ã“ã‚ã§ã™
ãã®å·¥å¤«ã‚’å…±æœ‰ã™ã‚‹è¨˜äº‹ã«ãªã‚Šã¾ã™

# å‰æã¨å…ˆã«å…±æœ‰

ä»Šå›å®Ÿè£…ã—ãŸã‚«ã‚¹ã‚¿ãƒ Sliderã¯Flutter 3.32ç³»ã®ã‚‚ã®ã«ãªã‚Šã¾ã™
3.35ç³»ä»¥ä¸Šã§ã¯å†…éƒ¨ã®ãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆãŒå¤‰ã‚ã£ã¦ã„ã‚‹å¯èƒ½æ€§ãŒã‚ã‚Šã€æœŸå¾…ã™ã‚‹ãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆã«ãªã‚‰ãªã„å ´åˆãŒã‚ã‚Šã¾ã™

ã‚µãƒ³ãƒ—ãƒ«ã‚³ãƒ¼ãƒ‰ã‚‚Flutter 3.32ç³»ã§ç”¨æ„ã—ã¦ã„ã¾ã™â†“

https://github.com/kentomiya89/slider_sample


# ç‹¬è‡ªãƒ‡ã‚¶ã‚¤ãƒ³Sliderã®ãƒ‡ã‚¶ã‚¤ãƒ³è¦ä»¶

Material Design3ã®Sliderã®tick mark(ç›®ç››ã‚Š)ã®å§‹ç‚¹ã¨çµ‚ç‚¹ã®ä½ç½®ã¯track(ã‚¹ãƒ©ã‚¤ãƒ€ãƒ¼ã®ãƒ©ã‚¤ãƒ³)ã®ä¸¡ç«¯ã«ãªã‚Šã¾ã™

[divisions](https://api.flutter.dev/flutter/material/Slider/divisions.html)ã¨ã„ã†ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿ã§åŒºåˆ‡ã‚Šã®æ•°ã‹ã‚‰é–“éš”ã‚’è¨ˆç®—ã—tick markã‚’æç”»ã—ã¾ã™

https://www.youtube.com/watch?v=ufb4gIPDmEs

![](/images/d793a91223e209/slider_official_design.png)

å®Ÿè£…ã—ãŸSliderã®ãƒ‡ã‚¶ã‚¤ãƒ³è¦ä»¶ã¯ä»¥ä¸‹ã§ã—ãŸ

* tick markã®å§‹ç‚¹ã¨çµ‚ç‚¹ã‚’trackã®ä¸¡ç«¯ã‹ã‚‰ä½•pxã‹ãšã‚‰ã—ã¦æç”»ã™ã‚‹
* æ¨™æº–ã®tick markã‚’è¡¨ç¤ºã›ãšã€trackã®ä¸‹ã«ç‹¬è‡ªã®ãƒ©ãƒ™ãƒ«ã¤ãã®tick markã‚’è¡¨ç¤ºã™ã‚‹

![](/images/d793a91223e209/slider_custom_design.png)

ã¾ãŸã€trackã‚„thumbã‚‚ç‹¬è‡ªãƒ‡ã‚¶ã‚¤ãƒ³ã§å®Ÿè£…ã™ã‚‹å¿…è¦ãŒã‚ã‚Šã¾ã—ãŸ

æ¨™æº–ã®Sliderã§ã¯å®Ÿç¾ãŒé›£ã—ã„ã§ã™
ã¾ãŸã€3rdãƒ‘ãƒ¼ãƒ†ã‚£ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ã§è§£æ±ºã™ã‚‹æ–¹æ³•ã‚‚ã‚ã‚Šã¾ã™
ä¾‹ãˆã°[syncfusion_flutter_sliders](https://pub.dev/packages/syncfusion_flutter_sliders)ã®ã‚ˆã†ãªãƒªãƒƒãƒãªUIãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ãŒã‚ã‚Šã¾ã™ãŒã€å•†ç”¨ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ã®ãŸã‚é‡‘éŠ­çš„ãªã‚³ã‚¹ãƒˆãŒã‹ã‹ã£ã¦ã—ã¾ã„ã¾ã™

ä»–ã®ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ç¾¤ã‚‚ãƒ¡ãƒ³ãƒ†ãƒŠãƒ³ã‚¹ãŒæ´»ç™ºãªã‚‚ã®ãŒã‚ã¾ã‚Šãªãã€ä»Šå›ã¯è‡ªä½œã®æ–¹å‘ã§æ¤œè¨ã—ã¾ã—ãŸ

# Sliderã®ã‚«ã‚¹ã‚¿ãƒ 

Slider Widgetã¯ãƒ‡ã‚¶ã‚¤ãƒ³ãƒ¬ãƒ™ãƒ«ã§åŸºæœ¬çš„ã«è¨­å®šã§ãã‚‹ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿ã¨ã—ã¦ã¯ã€è‰²ã‚„ã¡ã‚‡ã£ã¨ã—ãŸpaddingãã‚‰ã„ã§ã™(RangeSliderã‚‚åŒæ§˜)

https://api.flutter.dev/flutter/material/Slider/Slider.html

https://api.flutter.dev/flutter/material/RangeSlider-class.html

ã‚«ã‚¹ã‚¿ãƒ ã™ã‚‹å ´åˆã¯ã€SliderThemeDataã§ç‹¬è‡ªãƒ‡ã‚¶ã‚¤ãƒ³ã‚’å®šç¾©ã—ã€SliderThemeã‚’ä½¿ã£ã¦Slider Widgetã«é©ç”¨ã™ã‚‹å½¢ã«ãªã‚Šã¾ã™

https://api.flutter.dev/flutter/material/SliderTheme-class.html

https://api.flutter.dev/flutter/material/SliderThemeData-class.html

SliderThemeDataã®ã‚³ãƒ³ã‚¹ãƒˆãƒ©ã‚¯ã‚¿ã§ã¯ã€è‰²ã‚„é«˜ã•ã€thumbãƒ»trackãƒ»tick markãªã©ã®å„ãƒ‘ãƒ¼ãƒ„ã‚’ç‹¬è‡ªãƒ‡ã‚¶ã‚¤ãƒ³ã§è¨­å®šã§ãã¾ã™

https://api.flutter.dev/flutter/material/SliderThemeData/SliderThemeData.html

ç‹¬è‡ªãƒ‡ã‚¶ã‚¤ãƒ³ã‚’å®Ÿè£…ã™ã‚‹å ´åˆã¯ã€å„Sliderã®ãƒ‘ãƒ¼ãƒ„ã«å¯¾ã™ã‚‹æŠ½è±¡ã‚¯ãƒ©ã‚¹ãŒç”¨æ„ã•ã‚Œã¦ã„ã¾ã™
CustomPainterã¨åŒã˜è¦é ˜ã§ã€ãã®æŠ½è±¡ã‚¯ãƒ©ã‚¹ã‚’ç¶™æ‰¿ã—ã¦ç‹¬è‡ªãƒ‡ã‚¶ã‚¤ãƒ³ã‚’å®Ÿè£…ã—ã¦ã„ãå½¢ã«ãªã‚Šã¾ã™

> SliderComponentShape, which can be used to create custom shapes for the Slider's thumb, overlay, and value indicator and the RangeSlider's overlay.
SliderTrackShape, which can be used to create custom shapes for the Slider's track.
SliderTickMarkShape, which can be used to create custom shapes for the Slider's tick marks.
RangeSliderThumbShape, which can be used to create custom shapes for the RangeSlider's thumb.
RangeSliderValueIndicatorShape, which can be used to create custom shapes for the RangeSlider's value indicator.
RangeSliderTrackShape, which can be used to create custom shapes for the RangeSlider's track.
RangeSliderTickMarkShape, which can be used to create custom shapes for the RangeSlider's tick marks.

ã¾ãŸã€ã‚ã‚‹ç¨‹åº¦ãƒ‡ã‚¶ã‚¤ãƒ³ã•ã‚ŒãŸå…·è±¡ã‚¯ãƒ©ã‚¹ã‚‚ç”¨æ„ã•ã‚Œã¦ã„ã‚‹ã®ã§ã€ãƒ‡ã‚¶ã‚¤ãƒ³è¦ä»¶ã‚’æº€ãŸã›ã‚‹å ´åˆã¯ãã¡ã‚‰ã‚’ä½¿ã†ã®ã‚‚æ‰‹ã§ã™

> The thumb, track, tick marks, value indicator, and overlay can be customized by creating subclasses of SliderTrackShape, SliderComponentShape, and/or SliderTickMarkShape. See RoundSliderThumbShape, RectangularSliderTrackShape, RoundSliderTickMarkShape, RectangularSliderValueIndicatorShape, and RoundSliderOverlayShape for examples.

# è‡ªä½œã¾ã§ã®é“ã®ã‚Š

ä»Šå›ã¯[RangeSlider](https://github.com/kentomiya89/slider_sample/blob/main/lib/custom_range_slider.dart)ã‚’ã‚«ã‚¹ã‚¿ãƒ ã—ãŸä¾‹ã«ãªã‚Šã¾ã™

1. tick markã®å§‹ç‚¹ã‚’ãšã‚‰ã—æ¨™æº–ã®tick markã‚’éè¡¨ç¤ºã«ã™ã‚‹

trackã®ç«¯ã‹ã‚‰ãšã‚‰ã—ãŸã„pxåˆ†ã‚’Slider Widgetã«paddingã¨ã—ã¦è¨­å®šã—ã¾ã™
ãã—ã¦rangeTrackShapeã‚’ä½¿ã£ã¦ã€ãšã‚‰ã—ãŸåˆ†ã®pxã‚’ä¸¡ç«¯ã®trackã«æç”»ã—ã¾ã™

â†“ Sliderã«paddingã‚’è¨­å®š

https://github.com/kentomiya89/slider_sample/blob/e1cf7684758b5e347af75a212fad93b81fa9b5d4/lib/custom_range_slider.dart#L59-L82

â†“ ãšã‚‰ã—ãŸåˆ†ã®pxã ã‘ä¸¡ç«¯ã®trackã‚’å»¶é•·ã—ã¦æç”»
å·¦ç«¯ã¯ãšã‚‰ã—ãŸåˆ†ã ã‘å·¦ã®åº§æ¨™ã‚’å¼•ã„ã¦å¤‰æ›´ã€å³ç«¯ã¯è¶³ã—ã¦å³ã®åº§æ¨™ã‚’ä¼¸ã°ã—ã¦ã„ã‚‹

https://github.com/kentomiya89/slider_sample/blob/e1cf7684758b5e347af75a212fad93b81fa9b5d4/lib/custom_range_slider.dart#L253-L308

æ¨™æº–ã®tick markã‚’éè¡¨ç¤ºã«ã™ã‚‹ã«ã¯ã€RoundRangeSliderTickMarkShapeã‚’ä½¿ã£ã¦radiusã‚’0ã«è¨­å®šã—ã¾ã™

https://github.com/kentomiya89/slider_sample/blob/e1cf7684758b5e347af75a212fad93b81fa9b5d4/lib/custom_range_slider.dart#L78-L80

SliderThemeDataã®tickMarkShapeã«[SliderTickMarkShape.noTickMark](https://api.flutter.dev/flutter/material/SliderTickMarkShape/noTickMark.html)ã‚’è¨­å®šã—ã¦ã‚‚RangeSliderã®tick markã¯éè¡¨ç¤ºã«ãªã‚‰ãªã„ã®ã§æ³¨æ„ã§ã™

tickMarkShapeã¯Slider Widgetç”¨ã§ã€Sliderã¨Range Sliderã§ã¯ãã‚Œãã‚Œè¨­å®šã™ã‚‹ãƒ—ãƒ­ãƒ‘ãƒ†ã‚£ãŒç•°ãªã‚Šã¾ã™

2. å¤–å´tick mark ã®é…ç½®è¨ˆç®—

æ­£ç›´ã“ã“ãŒä¸€ç•ªå›°ã‚Šã¾ã—ãŸ

ãŸã ã€Flutterãƒ•ãƒ¬ãƒ¼ãƒ ãƒ¯ãƒ¼ã‚¯ã®ã„ã„ã¨ã“ã‚ã¯OSSã§ã™
Sliderã‚„Range Sliderã®å†…éƒ¨å®Ÿè£…ã«ã‚ã‚‹tick markã®è¨ˆç®—ãƒ­ã‚¸ãƒƒã‚¯ã‚’æ¨¡å€£ã™ã‚Œã°ã„ã‘ã‚‹ã®ã§ã¯ï¼Ÿã¨æ°—ã¥ãã¾ã—ãŸ

ã˜ã£ãã‚Šèª­ã‚“ã§ã¿ã‚‹ã®ã‚‚é¢ç™½ã„ã§ã™ãŒã€é™ã‚‰ã‚ŒãŸæ¥­å‹™æ™‚é–“ã®ä¸­ã§æ•°åƒè¡Œã‚ã‚‹OSSã‚³ãƒ¼ãƒ‰ã‚’èª­ã¿è§£ãã®ã¯å¤§å¤‰ã§ã™
ãã®ãŸã‚AIã‚¨ãƒ¼ã‚¸ã‚§ãƒ³ãƒˆ(è‡ªåˆ†ã¯Claude Code)ã‚’ä½¿ã£ã¦tick markã®è¨ˆç®—ãƒ­ã‚¸ãƒƒã‚¯ã‚’æ¢ç´¢ã—ã¦ã‚‚ã‚‰ã„ã€ç´ æ—©ãå®Ÿè£…ã§ãã¾ã—ãŸ

ãŸã¨ãˆã° 2025/12/11æ™‚ç‚¹ã§ã®Range Sliderã® tick markã®ãƒ­ã‚¸ãƒƒã‚¯ã¯ä»¥ä¸‹ã®é€šã‚Šã§ã™

https://github.com/flutter/flutter/blob/f159b58f96e4bc4f97666b6c76127015268373e3/packages/flutter/lib/src/material/range_slider.dart#L1678-L1706

isDiscreteã§divisionsã«0ä»¥ä¸ŠãŒä¸ãˆã‚‰ã‚Œã¦ã„ã‚‹ã‹ã§ã€tick markã®è¨ˆç®—ãƒ­ã‚¸ãƒƒã‚¯ã‚’å®Ÿè¡Œã™ã‚‹ã‹åˆ†å²ã—ã¦ã„ã¾ã™

ã“ã®å¼ã§paddingã‚’å¼•ã„ãŸå®Ÿéš›ã®trackå¹…ã‚’ç®—å‡ºã—ã¦ã„ã¾ã™

```dart
final double discreteTrackPadding = trackRect.height;
final double adjustedTrackWidth = trackRect.width - discreteTrackPadding;
```

divisionsã®æ•°ã«å¿œã˜ã¦ã€trackå¹…ã«å¯¾ã™ã‚‹tick markã”ã¨ã®ä½ç½®ã®æ¯”ç‡ã‚’è¨ˆç®—ã—ã€trackã®paddingã‚’ä¸¡ç«¯ã§å‰²ã£ãŸåˆ†ã‚’è¶³ã—ã¦xåº§æ¨™ã‚’æ±‚ã‚ã€ãƒ«ãƒ¼ãƒ—ã§æç”»ã—ã¦ã„ã¾ã™

```dart
        final double dy = trackRect.center.dy;
        for (var i = 0; i <= divisions!; i++) {
          final double value = i / divisions!;
          // The ticks are mapped to be within the track, so the tick mark width
          // must be subtracted from the track width.
          final double dx = trackRect.left + value * adjustedTrackWidth + discreteTrackPadding / 2;
          final tickMarkOffset = Offset(dx, dy);
          _sliderTheme.rangeTickMarkShape!.paint(
            context,
            tickMarkOffset,
            parentBox: this,
            sliderTheme: _sliderTheme,
            enableAnimation: _enableAnimation,
            textDirection: _textDirection,
            startThumbCenter: _startThumbCenter,
            endThumbCenter: _endThumbCenter,
            isEnabled: isEnabled,
          );
        }
```

â€» ãƒ•ãƒ¬ãƒ¼ãƒ ãƒ¯ãƒ¼ã‚¯å´ã«ã¯divisionsã‚’å¤šãè¨­å®šã—ã¦tick markãŒå¯†é›†ã—ãŸæ™‚ã®å¯¾ç­–ã¨ã—ã¦ã€ä»¥ä¸‹ã®æ¡ä»¶å¼ãŒå®Ÿè£…ã«å«ã¾ã‚Œã¦ã„ã¾ã™

```dart
      // If the tick marks would be too dense, don't bother painting them.
      if (adjustedTrackWidth / divisions! >= 3.0 * tickMarkWidth) {
```

ä¸Šè¨˜ã®ãƒ­ã‚¸ãƒƒã‚¯ã‚’å‚è€ƒã«å®Ÿè£…ã—ãŸã‚³ãƒ¼ãƒ‰ãŒä»¥ä¸‹ã§ã™

https://github.com/kentomiya89/slider_sample/blob/e1cf7684758b5e347af75a212fad93b81fa9b5d4/lib/custom_range_slider.dart#L92-L159

Sliderã«å¯¾ã—ã¦ãšã‚‰ã—ãŸpaddingã‚’è¨­å®šã—ã¦ã„ã‚‹ã®ã§ã€è‡ªä½œtick markã¨ãƒ©ãƒ™ãƒ«ã«ã‚‚åŒæ§˜ã®paddingå€¤ã‚’è¨­å®šã—ã¾ã™

åŒæ§˜ã®æ–¹æ³•ã§tick markã®é–“éš”ã®è¨ˆç®—ãƒ­ã‚¸ãƒƒã‚¯ã‚’åŸºã«ã€è‡ªä½œtick markã¨ãƒ©ãƒ™ãƒ«ã‚’è¡¨ç¤ºã—ã¦ã„ã¾ã™

ã‚µãƒ³ãƒ—ãƒ«ã‚³ãƒ¼ãƒ‰ä¾‹ã§ã¯ãƒ©ãƒ™ãƒ«ãŒçŸ­ã„ã§ã™ãŒã€å®Ÿéš›ã®æ¥­å‹™ã§ã¯æ–‡å­—åˆ—ãŒé•·ã‹ã£ãŸã‚Šè¤‡æ•°è¡Œã«ãªã‚‹ãƒ‘ã‚¿ãƒ¼ãƒ³ãŒã‚ã‚Šã€Stackãƒ»Positionedã‚’ä½¿ã£ãŸåŠ›æŠ€ã§é…ç½®ã‚’èª¿æ•´ã—ã¦ã„ã¾ã™(ã“ã“ã¯ã‚‚ã†å°‘ã—æ”¹å–„ã®ä½™åœ°ãŒã‚ã‚‹ã‹ã‚‚ã—ã‚Œã¾ã›ã‚“)

![](/images/d793a91223e209/custom_slider_demo.gif)

æ¨™æº–ã®tick markã¨æ¯”è¼ƒã—ã¦ã‚‚ã€é©åˆ‡ãªä½ç½®ã«è¡¨ç¤ºã§ãã¦ã„ã¾ã™

![](/images/d793a91223e209/compare_tick_mark.png)

# ã¾ã¨ã‚

æ¨™æº–ã®Slider Widgetã§ã¯å®Ÿç¾ã§ããªã„ç‹¬è‡ªãƒ‡ã‚¶ã‚¤ãƒ³è¦ä»¶ã«å¯¾ã—ã¦ã€ä»¥ä¸‹ã®ã‚¢ãƒ—ãƒ­ãƒ¼ãƒã§å®Ÿè£…ã§ãã¾ã—ãŸ

* SliderThemeDataã¨ã‚«ã‚¹ã‚¿ãƒ Shapeã‚¯ãƒ©ã‚¹ã‚’æ´»ç”¨
* Flutterãƒ•ãƒ¬ãƒ¼ãƒ ãƒ¯ãƒ¼ã‚¯ã®å†…éƒ¨å®Ÿè£…ã‚’å‚è€ƒã«tick markã®é…ç½®ãƒ­ã‚¸ãƒƒã‚¯ã‚’æ¨¡å€£

ã‚‚ã¡ã‚ã‚“ã€å®‰å®šã—ãŸ3rdãƒ‘ãƒ¼ãƒ†ã‚£ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ãŒã‚ã‚Œã°ãã‚Œã‚’ä½¿ã†ã®ãŒæœ€å–„ã§ã™ãŒã€è¦ä»¶ã‚’æº€ãŸã™ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ãŒãªã„å ´åˆã§ã‚‚ã€Flutterã®ãƒ‡ã‚¶ã‚¤ãƒ³ã‚«ã‚¹ã‚¿ãƒã‚¤ã‚ºã®æŸ”è»Ÿæ€§ã‚’æ”¹ã‚ã¦å®Ÿæ„Ÿã—ã¾ã—ãŸ

ç‰¹ã«AIã‚¨ãƒ¼ã‚¸ã‚§ãƒ³ãƒˆã®æ´»ç”¨ã«ã‚ˆã‚Šã€æ•°åƒè¡Œã®ãƒ•ãƒ¬ãƒ¼ãƒ ãƒ¯ãƒ¼ã‚¯ã‚³ãƒ¼ãƒ‰ã‹ã‚‰å¿…è¦ãªãƒ­ã‚¸ãƒƒã‚¯ã‚’åŠ¹ç‡çš„ã«è¦‹ã¤ã‘å‡ºã™ã“ã¨ãŒã§ãã€å®Ÿè£…ã®ãƒãƒ¼ãƒ‰ãƒ«ãŒå¤§ããä¸‹ãŒã‚Šã¾ã—ãŸ

ã“ã®è¨˜äº‹ãŒã€ç‹¬è‡ªãƒ‡ã‚¶ã‚¤ãƒ³ã®Sliderå®Ÿè£…ã«å–ã‚Šçµ„ã‚€æ–¹ã®å‚è€ƒã«ãªã‚Œã°å¹¸ã„ã§ã™